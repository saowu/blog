<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>JVM 相关记录 | saowu&#39;s Blog</title>
<link rel="shortcut icon" href="https://saowu.top/blog/favicon.ico?v=1589023293332">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://saowu.top/blog/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="JVM 相关记录 | saowu&#39;s Blog - Atom Feed" href="https://saowu.top/blog/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">

<link rel="stylesheet" href="https://saowu.top/blog/media/live2d/css/live2d.css">




<script async src="https://www.googletagmanager.com/gtag/js?id=UA-162711560-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-162711560-1');
</script>


    <meta name="description" content="一、Java反编译

概述： javap是 Java class文件分解器，可以反编译，也可以查看java编译器生成的字节码，从而对代码内部的执行逻辑进行分析。
语法：

把java文件编译为class文件
例如：javac Test.ja..." />
    <meta name="keywords" content="Java" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://saowu.top/blog">
  <img class="avatar" src="https://saowu.top/blog/images/avatar.png?v=1589023293332" alt="">
  </a>
  <h1 class="site-title">
    saowu&#39;s Blog
  </h1>
  <p class="site-description">
    A programmer who wants to be happy and muddle along
  </p>
  <div class="menu-container">
    
      
        <a href="/blog" class="menu">
          首页
        </a>
      
    
      
        <a href="/blog/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/blog/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/blog/about" class="menu">
          关于
        </a>
      
    
      
        <a href="https://saowu.top/reptiles/nCoV_map.html" class="menu">
          nCoV肺炎
        </a>
      
    
  </div>
  <div class="social-container">
    
      
        <a href="https://github.com/saowu" target="_blank">
          <i class="ri-github-line"></i>
        </a>
      
    
      
    
      
        <a href="https://weibo.com/u/6635817704" target="_blank">
          <i class="ri-weibo-line"></i>
        </a>
      
    
      
        <a href="https://www.zhihu.com/people/43703339aec7960c1020ba061888a016" target="_blank">
          <i class="ri-zhihu-line"></i>
        </a>
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              <!-- 生成海报 -->
              <a target="_blank" href="https://saowu.top/recommend/bill.html?title=JVM 相关记录">
                JVM 相关记录
              </a>
            </h2>
            <div class="post-info">
              <span>
                2020-04-06
              </span>
              <span>
                4 min read
              </span>
              
                <a href="https://saowu.top/blog/FWHSehn5o/" class="post-tag">
                  # Java
                </a>
              
            </div>
            
              <img class="post-feature-image" src="https://saowu.top/blog/post-images/4S4PY3kdh.jpg" alt="">
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <h2 id="一-java反编译">一、Java反编译</h2>
<ul>
<li>概述： javap是 Java class文件分解器，可以反编译，也可以查看java编译器生成的字节码，从而对代码内部的执行逻辑进行分析。</li>
<li>语法：
<ul>
<li>把java文件编译为class文件<br>
例如：<code>javac Test.java</code></li>
<li>执行javap操作：javap  Test（不加 .class后缀）<br>
例如：<code>javap -c Test</code></li>
</ul>
</li>
</ul>
<h2 id="二-jvm进程状态工具">二、JVM进程状态工具</h2>
<ul>
<li>概述： 列出目标系统上已检测的HotSpot Java虚拟机进程信息。可直接在装有java运行环境的Windows 或者 Linux机器上使用命令行执行jps命令。</li>
<li>语法：<code>jps [ options ] [ hostid ]</code>
<ul>
<li>option可选参数:
<ul>
<li><code>-q</code> ：输出JVM进程ID。</li>
<li><code>-m</code>：输出JVM启动时传递给main()函数的参数，嵌入式的JVM可能参数为null。</li>
<li><code>-v</code>：输出JVM进程启动时传递的参数。</li>
<li><code>-V</code>：输出JVM进程号和启动类型（jar 或者 主类名称，是默认的选项）。</li>
</ul>
</li>
<li>hostid: 主机ID，可以查看其它机器的进程信息。</li>
</ul>
</li>
<li>例如：<code>jps -m</code></li>
</ul>
<pre><code>36376 KotlinCompileDaemon
36571 Launcher
36572 Test
36574 Jstat
36639 Jps
</code></pre>
<h2 id="三-java虚拟机gc统计">三、Java虚拟机GC统计</h2>
<ul>
<li>概述：jstat利用JVM内建的指令对Java应用程序的资源和性能进行实时的命令行的监控，包括了对Heap size和垃圾回收状况的监控。</li>
<li>例如：<code>jstat -gcutil [vmid] [检查次数]</code>：统计gc信息
<ul>
<li>vmid：虚拟机进程号</li>
</ul>
</li>
</ul>
<pre><code> S0     S1     E      O      M     CCS    YGC     YGCT    FGC    FGCT    CGC    CGCT     GCT   
0.00 100.00   0.00   6.07  94.65  86.00      1    0.010     0    0.000     0    0.000    0.010
0.00 100.00   0.00   6.07  94.65  86.00      1    0.010     0    0.000     0    0.000    0.010
0.00 100.00   0.00   6.07  94.65  86.00      1    0.010     0    0.000     0    0.000    0.010
</code></pre>
<pre><code>S0：幸存1区当前使用比例
S1：幸存2区当前使用比例
E：伊甸园区使用比例
O：老年代使用比例
M：元数据区使用比例
CCS：压缩使用比例
YGC：年轻代垃圾回收次数
YGCT：年轻代垃圾回收消耗时间
FGC：老年代垃圾回收次数
FGCT：老年代垃圾回收消耗时间
CGC：并发垃圾回收次数（并发 GC Stop-The-World 的次数）
CGCT：并发垃圾回收消耗时间（并发 GC Stop-The-World 的时间）
GCT：垃圾回收消耗总时间
</code></pre>
<h2 id="四-gc日志查看">四、GC日志查看</h2>
<ul>
<li>设置jvm的参数
<ul>
<li>-XX:+PrintGC 输出GC日志</li>
<li>-XX:+PrintGCDetails 输出GC的详细日志</li>
<li>-XX:+PrintGCTimeStamps 输出GC的时间戳（以基准时间的形式）</li>
<li>-XX:+PrintGCDateStamps 输出GC的时间戳（以日期的形式，如 2013-05-04T21:53:59.234+0800）</li>
<li>-XX:+PrintHeapAtGC 在进行GC的前后打印出堆的信息</li>
<li>-Xloggc:../logs/gc.log 日志文件的输出路径</li>
</ul>
</li>
</ul>
<h2 id="五-设置java垃圾回收器">五、设置Java垃圾回收器</h2>
<table>
<thead>
<tr>
<th>GC</th>
<th>垃圾回收器</th>
<th>jvm参数</th>
</tr>
</thead>
<tbody>
<tr>
<td>Serial</td>
<td>串行垃圾回收器</td>
<td>-XX:+UseSerialGC</td>
</tr>
<tr>
<td>ParNew</td>
<td>Serial收集器的多线程版本</td>
<td>-XX:+UseParNewGC</td>
</tr>
<tr>
<td>Parallel</td>
<td>Parallel垃圾回收器</td>
<td>-XX:+UseParallelGC</td>
</tr>
<tr>
<td>CMS</td>
<td>CMS垃圾回收器</td>
<td>-XX:+UseConcMarkSweepGC</td>
</tr>
<tr>
<td>G1</td>
<td>G1垃圾回收器</td>
<td>–XX:+UseG1GC</td>
</tr>
<tr>
<td>ZGC</td>
<td>ZGC垃圾回收器</td>
<td>-XX:+UseZGC</td>
</tr>
</tbody>
</table>
<h2 id="六-查看当前使用的垃圾回收器">六、查看当前使用的垃圾回收器</h2>
<ul>
<li>例如：<code>java -XX:+PrintCommandLineFlags -version</code></li>
</ul>
<pre><code>wuyanbodeMacBook-Air:~ wuyanbo$ java -XX:+PrintCommandLineFlags -version
-XX:G1ConcRefinementThreads=4 -XX:GCDrainStackTargetSize=64 -XX:InitialHeapSize=134217728 -XX:MaxHeapSize=2147483648 -XX:+PrintCommandLineFlags -XX:ReservedCodeCacheSize=251658240 -XX:+SegmentedCodeCache -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseG1GC
java version &quot;11.0.4&quot; 2019-07-16 LTS
Java(TM) SE Runtime Environment 18.9 (build 11.0.4+10-LTS)
Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.4+10-LTS, mixed mode)
</code></pre>
<h2 id="七-jvm内存模型java8">七、JVM内存模型（java8+）</h2>
<figure data-type="image" tabindex="1"><img src="https://saowu.top/blog/post-images/1586178611304.jpg" alt="" loading="lazy"></figure>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E4%B8%80-java%E5%8F%8D%E7%BC%96%E8%AF%91">一、Java反编译</a></li>
<li><a href="#%E4%BA%8C-jvm%E8%BF%9B%E7%A8%8B%E7%8A%B6%E6%80%81%E5%B7%A5%E5%85%B7">二、JVM进程状态工具</a></li>
<li><a href="#%E4%B8%89-java%E8%99%9A%E6%8B%9F%E6%9C%BAgc%E7%BB%9F%E8%AE%A1">三、Java虚拟机GC统计</a></li>
<li><a href="#%E5%9B%9B-gc%E6%97%A5%E5%BF%97%E6%9F%A5%E7%9C%8B">四、GC日志查看</a></li>
<li><a href="#%E4%BA%94-%E8%AE%BE%E7%BD%AEjava%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8">五、设置Java垃圾回收器</a></li>
<li><a href="#%E5%85%AD-%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E4%BD%BF%E7%94%A8%E7%9A%84%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8">六、查看当前使用的垃圾回收器</a></li>
<li><a href="#%E4%B8%83-jvm%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8Bjava8">七、JVM内存模型（java8+）</a></li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://saowu.top/blog/4tCVcic30/">
              <h3 class="post-title">
                让Google搜索到GitHub Pages
              </h3>
            </a>
          </div>
        

        
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: '1ffeeefba638614e6e82',
    clientSecret: 'a43973f705103d89ba604087f510cb19bc3ac204',
    repo: 'blog',
    owner: 'saowu',
    admin: ['saowu'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          

          
        

        
<div class="site-footer">
  <p>Copyright 2020 saowu</p>
<p>Any and all opinions listed here are my own and not representative of my employers; future, past and present.</p>


  <a class="rss" href="https://saowu.top/blog/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

<div id="landlord" style="left:5px;bottom:0px;">
    <div class="message" style="opacity:0"></div>
    <canvas id="live2d" width="500" height="560" class="live2d"></canvas>
    <div class="live_talk_input_body">
        <div class="live_talk_input_name_body">
            <input name="name" type="text" class="live_talk_name white_input" id="AIuserName" autocomplete="off" placeholder="你的名字" />
        </div>
        <div class="live_talk_input_text_body">
            <input name="talk" type="text" class="live_talk_talk white_input" id="AIuserText" autocomplete="off" placeholder="要和我聊什么呀？"/>
            <button type="button" class="live_talk_send_btn" id="talk_send">发送</button>
        </div>
    </div>
    <input name="live_talk" id="live_talk" value="1" type="hidden" />
    <div class="live_ico_box">
        <div class="live_ico_item type_info" id="showInfoBtn"></div>
        <div class="live_ico_item type_talk" id="showTalkBtn"></div>
        <div class="live_ico_item type_music" id="musicButton"></div>
        <div class="live_ico_item type_youdu" id="youduButton"></div>
        <div class="live_ico_item type_quit" id="hideButton"></div>
        <input name="live_statu_val" id="live_statu_val" value="0" type="hidden" />
        <audio src="" style="display:none;" id="live2d_bgm" data-bgm="0" preload="none"></audio>
        <input name="live2dBGM" value="/blog/media/saowu.mp3" type="hidden">
        <input id="duType" value="douqilai,l2d_caihong" type="hidden">
    </div>
</div>
<div id="open_live2d">召唤伊斯特瓦尔</div>
<script>
    var message_Path = '/blog/media/live2d/';//资源目录，如果目录不对请更改
    var talkAPI = "";//如果有类似图灵机器人的聊天接口请填写接口路径
</script>

<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script type="text/javascript" src="/blog/media/live2d/js/live2d.js"></script>
<script type="text/javascript" src="/blog/media/live2d/js/message.js"></script>
      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
